<script type="text/ng-template" id="userModal.html">
	<div class="modal-header">
		<h3>User settings</h3>
	</div>
	<div class="modal-body">
		 <form name="userForm" class="form-horizontal" ng-submit="submitForm(userForm)" novalidate>
			<!-- ORGANIZATION LIST -->
			<div class="control-group">
				<label class="control-label">Organization</label>
				<div class="controls">
					<select ng-model="userForm.org" required>
	                <option value="{{org.user}}" ng-repeat="org in organizations">{{org.user}}</option>
	            </select>
                <p ng-show="nullOrg" style="color:#f00;">Must choose an Organization</p>
				</div>
			</div>

			<!-- NEW PASSWORD -->
			<div class="control-group" ng-class="{ 'has-error' : userForm.password.$invalid }">
				<label class="control-label">New Password</label>
				<div class="controls">
					<input type="password" name="password" class="form-control" placeholder="Password (optional)" ng-model="user.password" ng-minlength="8" ng-maxlength="100" required>
					<p ng-show="userForm.password.$error.minlength" class="help-block" style="color:#f00">Password is too short.</p>
					<p ng-show="userForm.password.$error.maxlength" class="help-block" style="color:#f00">Password is too long.</p>
				</div>
			</div>
			<div class="control-group" ng-class="{ 'has-error' : userForm.cpassword.$viewValue != userForm.password.$viewValue }">
				<label class="control-label">Repeat Password</label>
				<div class="controls">
					<input type="password" name="cpassword" class="form-control" placeholder="Repeat password" ng-model="user.cpassword" ng-minlength="8" ng-maxlength="100" required>
					<p ng-show=" userForm.cpassword.$viewValue != userForm.password.$viewValue" class="help-block" style="color:#f00">Passwords dont match</p>
				</div>
			</div>
			<div class="control-group">
				<div class="controls">
					<button type="submit" class="pure-button">Submit</button>
				</div>
			</div>
		</form>
		</div>
		<div class="modal-footer">
			<button class="btn btn-primary" ng-click="ok()">Close</button>
		</div>
</script>
<div class="navbar-inner" data-ng-controller="headerController">
	<a ng-click="reload('/')" href="">
		<img class="logo" src="public/system/assets/img/logo.jpeg" alt=""/>
	</a>
	<div style="background-color: #390052;" class="container-fluid">
		<ul class="nav pull-right">
			<li class="navbar-nav nav pull-right"><a href="#" id="welcome" class="dropdown-toggle" data-toggle="dropdown">Welcome, {{global.user.username}} <b class="caret"></b></a>
				<ul class="dropdown-menu">
					<li><a href="" ng-click="userSettings()"><i class="fa fa-cog"></i> My Preferences</a></li>
					<li><a ng-click="logout()"><i class="fa fa-power-off"></i> Logout</a></li>
				</ul>
			</li>
		</ul>
	</div>
</div>